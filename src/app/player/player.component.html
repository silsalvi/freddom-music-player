<ng-container>
  <ng-container [ngTemplateOutlet]="minimize" *ngIf="!fullMode"></ng-container>
  <ng-container [ngTemplateOutlet]="opened" *ngIf="fullMode"></ng-container>
</ng-container>

<ng-template #minimize>
  <div id="player-minimize" class="player-container-minimize">
    <div class="name-song-minimize">
      <div>
        <strong class="label-name">{{ branoSelezionato.nome }} </strong>
        <button
          pButton
          icon="pi pi-chevron-up"
          class="p-button-rounded p-button-text chevron-up-btn text-right"
          (click)="fullMode = !fullMode"
          pTooltip="Clicca per espandere"
        ></button>
      </div>
      <div>
        <strong class="label-name">
          {{
            branoSelezionato.collaborazioni.length > 0
              ? branoSelezionato.collaborazioniToString()
              : branoSelezionato.autore.nomeArte
          }}
        </strong>
      </div>
    </div>

    <div class="progress-bar-minimize">
      <p-slider
        [(ngModel)]="tempo"
        (onSlideEnd)="onProgressEnd($event)"
        [min]="0"
        [max]="100"
      ></p-slider>
      <div class="time">{{ attuale }}</div>
      <div class="time-duration">{{ durata }}</div>
    </div>

    <div class="player-controls-minimize">
      <p-button
        [icon]="'pi pi-backward'"
        [styleClass]="'p-button-rounded p-button-text'"
        (onClick)="onBackwordClick($event)"
      ></p-button>
      <p-button
        [icon]="isPlaying ? 'pi pi-pause' : 'pi pi-play'"
        [styleClass]="'p-button-rounded p-button-text'"
        (onClick)="onPlayClick($event)"
      ></p-button>
      <p-button
        [icon]="'pi pi-forward'"
        [styleClass]="'p-button-rounded p-button-text'"
        (onClick)="onForwardClick($event)"
      ></p-button>
    </div>
  </div>
</ng-template>

<ng-template #opened>
  <div id="full-player" class="player-container-full">
    <div id="close-wrapper" class="text-right">
      <p-button
        [icon]="'pi pi-times'"
        [styleClass]="'p-button-rounded p-button-text p-button-lg'"
        (click)="fullMode = !fullMode"
        pTooltip="Clicca per chiudere"
      ></p-button>
    </div>
    <div class="name-song-full">
      <strong>{{ branoSelezionato.nome }} </strong>
      <h4>
        {{
          branoSelezionato.collaborazioni.length > 0
            ? branoSelezionato.collaborazioniToString()
            : branoSelezionato.autore.nomeArte
        }}
      </h4>
    </div>
    <div class="progress-bar-full">
      <p-slider
        [(ngModel)]="tempo"
        (onSlideEnd)="onProgressEnd($event)"
        [min]="0"
        [max]="100"
      ></p-slider>
      <div class="time">{{ attuale }}</div>
      <div class="time-duration">{{ durata }}</div>
    </div>
    <div class="player-controls-full">
      <p-button
        [icon]="'pi pi-backward'"
        [styleClass]="'p-button-rounded p-button-text p-button-lg'"
        (onClick)="onBackwordClick($event)"
      ></p-button>
      <p-button
        [icon]="isPlaying ? 'pi pi-pause' : 'pi pi-play'"
        [styleClass]="'p-button-rounded p-button-text p-button-lg'"
        (onClick)="onPlayClick($event)"
      ></p-button>
      <p-button
        [icon]="'pi pi-forward'"
        [styleClass]="'p-button-rounded p-button-text p-button-lg'"
        (onClick)="onForwardClick($event)"
      ></p-button>
    </div>
  </div>
</ng-template>
